generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model ActDetailDB {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt   DateTime @db.Date
  createdBy   String
  deleteBy    String
  description String
  dislink     String
  disname     String
  enddate     String
  img         String
  point       String
  startdate   String
  title       String
  type        String
  updatedAt   DateTime @db.Date
  updatedBy   String
}

model ActType {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @db.Date
  /// Could not determine type: the field only had null or empty values in the sample set.
  createdBy String
  deleteBy  String
  name      String
  updatedAt DateTime @db.Date
  updatedBy String
}

model BlogDB {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  title       String
  creditlink  String
  description String
  img         String
  video       String
  createdAt   DateTime @db.Date
  createdBy   String
  updatedAt   DateTime @db.Date
  updatedBy   String
  deleteBy    String
}

model CustomerDB {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt  DateTime @db.Date
  /// Could not determine type: the field only had null or empty values in the sample set.
  createdBy  String
  deleteBy   String
  discord_id String   @unique
  email      String   @unique
  password   String
  server     String   @unique
  updatedAt  DateTime @db.Date
  updatedBy  String
  username   String
}

model GameCategoryDB {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @db.Date
  createdBy String
  deleteBy  String
  title     String
  updatedAt DateTime @db.Date
  updatedBy String
}

model GameConditionMatchDB {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt  DateTime @db.Date
  createdBy  String?
  deleteBy   String?
  gameId     String   @db.ObjectId
  maxParty   BigInt
  rankNumber BigInt
  updatedAt  DateTime @db.Date
  /// Could not determine type: the field only had null or empty values in the sample set.
  updatedBy  String
}

model GameOnlineDB {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  game_name   String
  logo        String?
  numberMatch String?
  partyLimit  BigInt
  ranking     Boolean
  createdAt   DateTime @db.Date
  createdBy   String?
  updatedAt   DateTime @db.Date
  updatedBy   String
  deleteBy    String

  // ความสัมพันธ์ many-to-many ผ่าน GameTypeGame
  gameTypeGame GameTypeGame[] @relation("GameOnlineToGameTypeGame")
  GameRankDB   GameRankDB[]
}

model GameTypeDB {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  categoryId String   @db.ObjectId
  title      String
  createdAt  DateTime @db.Date
  createdBy  String
  updatedAt  DateTime @db.Date
  updatedBy  String
  deleteBy   String

  // ความสัมพันธ์ many-to-many ผ่าน GameTypeGame
  gameTypeGame GameTypeGame[] @relation("GameTypeToGameTypeGame")
}

model GameTypeGame {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @db.Date
  createdBy String
  updatedAt DateTime @db.Date
  updatedBy String
  deleteBy  String

  // ความสัมพันธ์กับ GameOnlineDB
  gameId       String?       @db.ObjectId
  gameOnlineDB GameOnlineDB? @relation(fields: [gameId], references: [id], onDelete: Cascade, name: "GameOnlineToGameTypeGame")

  // ความสัมพันธ์กับ GameTypeDB
  typeId     String?     @db.ObjectId
  gameTypeDB GameTypeDB? @relation(fields: [typeId], references: [id], onDelete: Cascade, name: "GameTypeToGameTypeGame")
}

model GameRankDB {
  id           String        @id @default(auto()) @map("_id") @db.ObjectId
  gameOnlineDB GameOnlineDB? @relation(fields: [gameId], references: [id])
  gameId       String        @db.ObjectId
  imgRank      String
  selcetShow   String
  nameRank     String
  number       BigInt
  createdAt    DateTime      @db.Date
  createdBy    String
  updatedAt    DateTime      @db.Date
  updatedBy    String
  deleteBy     String
}

model GuildDB {
  id                       String         @id @default(auto()) @map("_id") @db.ObjectId
  Logo                     String         @default("https://www.design365print.com/UploadFile/Blog/blog_941976621.jpg")
  guild_copper             BigInt?
  guild_leader             String?
  guild_level              BigInt?
  guild_name               String?
  guild_roleId             String?
  guild_size               BigInt?
  guild_room_chat          String?
  guild_room_mainHall      String?
  guild_room_secondaryHall String?
  guild_room_activity      String?
  guild_room_visiting      String?
  GuildMembers             GuildMembers[]
}

model GuildCreateReport {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  ownerId   String
  channelId String
  messageId String
  guildName String
  members   String[]
}

model GuildMembers {
  id       String   @id @default(auto()) @map("_id") @db.ObjectId
  guildId  String?  @db.ObjectId
  position String
  userId   String
  guildDB  GuildDB? @relation(fields: [guildId], references: [id])
}

model GuildProfileDB {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  avatar      String
  backdrop    String
  createdAt   DateTime @db.Date
  createdBy   String
  deleteBy    String
  description String
  discordlink String
  guildId     String?
  guildname   String
  rule        String
  updatedAt   DateTime @db.Date
  updatedBy   String
}

model ImageList {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @db.Date
  createdBy String
  deleteBy  String
  imageUrl  String   @unique
  modalName String
  nameFile  String   @unique
  updatedAt DateTime @db.Date
  updatedBy String
}

model InviteData {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  guildId String
  userId  String
}

model InviteRequest {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  guildId String
  userId  String
}

model JobQueueDB {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model NewsCategoryDB {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt DateTime @db.Date
  /// Could not determine type: the field only had null or empty values in the sample set.
  createdBy String
  deleteBy  String
  title     String
  updatedAt DateTime @db.Date
  updatedBy String
}

model NewsTypeDB {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  categoryId String   @db.ObjectId
  createdAt  DateTime @db.Date
  /// Could not determine type: the field only had null or empty values in the sample set.
  createdBy  String
  deleteBy   String
  title      String
  updatedAt  DateTime @db.Date
  updatedBy  String
}

model NewsTypeNews {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt    DateTime @db.Date
  /// Could not determine type: the field only had null or empty values in the sample set.
  createdBy    String
  deleteBy     String
  newsUpdateId String   @db.ObjectId
  typeId       String   @db.ObjectId
  updatedAt    DateTime @db.Date
  updatedBy    String
}

model NewsUpdateDB {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  createdAt   DateTime  @db.Date
  createdBy   String?
  creditlink  String
  deleteBy    String?
  description String
  img         String
  title       String
  updatedAt   DateTime? @db.Date
  updatedBy   String?
}

model ServerDB {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  ownerId          String
  serverId         String   @unique
  serverName       String
  Master           Boolean  @default(false)
  openBot          Boolean  @default(false) // เพิ่มค่าเริ่มต้นเป็น false
  adminRoleId      String? // ฟิลด์สำหรับเก็บรหัสบทบาทแอดมิน (optional)
  userRoleId       String? // ฟิลด์สำหรับเก็บรหัสบทบาทผู้ใช้ (optional)
  adventurerRoleId String?
  visitorRoleId    String?
  guildHeadRoleId  String? // บทบาทหัวหน้ากิล (optional)
  guildCoRoleId    String? // บทบาทรองหัวหน้ากิล (optional)
  openUntilAt      DateTime @db.Date
  welcomechannel   String?
  registerChannel  String?
  newsChannel      String?
  gameChannel      String?
  createdAt        DateTime @db.Date
  updatedAt        DateTime @db.Date
}

model UserDB {
  id                String    @id @default(auto()) @map("_id") @db.ObjectId
  birthday          DateTime? @db.Date
  username          String?
  discord_id        String    @unique
  email             String    @unique
  firstname         String?
  gender            String?
  alternativeGender String?
  lastname          String?
  nickname          String?
  password          String?
  createdAt         DateTime  @db.Date
  createdBy         String
  deleteBy          String
  updatedAt         DateTime  @db.Date
  updatedBy         String
}

model UserGameRank {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt  DateTime @db.Date
  deleteBy   String
  gameId     String   @db.ObjectId
  gameRankId String   @db.ObjectId
  invitation Boolean
  updatedAt  DateTime @db.Date
  updatedBy  String
  /// Multiple data types found: String: 85.7%, String (ObjectId): 14.3% out of 14 sampled entries
  userId     Json
}

model Wallet {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  coin_copper  BigInt
  coin_crystal BigInt
  coin_diamond BigInt
  coin_gold    BigInt
  coin_silver  BigInt
  createdAt    DateTime @db.Date
  updatedAt    DateTime @db.Date
  userId       String
}

model WebDefaultDB {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  logoSquare     String? // โลโก้ที่เป็นสี่เหลี่ยม, ค่าเริ่มต้นเป็น null โดยไม่ต้องใส่ @default
  logoCircle     String? // โลโก้ที่เป็นวงกลม, ค่าเริ่มต้นเป็น null โดยไม่ต้องใส่ @default
  logoWide       String? // โลโก้ที่เป็น wide, ค่าเริ่มต้นเป็น null โดยไม่ต้องใส่ @default
  defaultImg     String?
  defaultProfile String?
  facebook       String?
  instagram      String?
  youtube        String?
  tiktok         String?
  gmail          String?
  createdAt      DateTime @default(now())
  createdBy      String?
  updatedAt      DateTime @updatedAt
  updatedBy      String
  deleteBy       String
}

model inviteData {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  guildId String
  userId  String
}

model paymentHistory {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  coin_copper  BigInt
  coin_crystal BigInt
  coin_diamond BigInt
  coin_gold    BigInt
  coin_silver  BigInt
  createdAt    DateTime @db.Date
  status       String
  title        String
  updatedAt    DateTime @db.Date
  updatedBy    String
  userId       String
}
